# Справочник API

## Обзор

Используйте API Documentat для создания, получения, обновления и удаления пользователей на учебном стенде компании.

### Базовый URL

```text
https://api.documentat.io/api/prod
```

### Авторизация

Для запросов к этим API требуется аутентификация и авторизация. Поддерживаемый метод аутентификации — через ключ API.

```text
curl -H "Token: ВАШ_API_КЛЮЧ" https://api.documentat.io/api/prod/users
```

### Коды состояния HTTP

API Documentat используют следующие стандартные коды ответов HTTP:

| Код состояния | Сообщение                               | Описание                                                                                                                                |
|---------------|-----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| `200 OK`      |             | Указывает, что запрос успешно выполнен.                                                                                                 |
| `201 Created` |             | Запрос на создание пользователя был выполнен, возвращаются данные нового ресурса.                                                       |
| `204 No Content` |          | Запрос на удаление пользователя был успешно выполнен, содержимое не возвращается.                                                       |
| `401 Unauthorized` | Неавторизованный доступ                 | Требуется аутентификация или она не удалась.                                                                                            |
| `404 Not Found` | Не найден ресурс                        | Запрошенный ресурс не найден.                                                                                                           |
| `405 Method Not Allowed` | Данный метод не поддерживается          | Метод, указанный в строке запроса, не разрешен для ресурса, идентифицированного URI запроса.                                            |
| `409 Conflict` | Конфликт при обновлении данных пользователя | Запрос не может быть завершен из-за конфликта с текущим состоянием целевого ресурса.                                                    |
| `422 Unprocessable Entity` | Невозможно обработать содержимое запроса | Сервер понимает тип содержимого сущности запроса, и синтаксис сущности запроса верен, но он не смог обработать содержащиеся инструкции. |
| `500 Internal Server Error` | Ошибка сервера                          | Общее сообщение об ошибке, выдаваемое, когда обнаружено неожиданное условие, и более конкретное сообщение не подходит.                  |

-----

## Users

Ресурс "Users" используется для управления учетными записями пользователей.

### Модель данных

| Атрибут           | Тип       | Обязательный? | Описание                                        |
|-------------------|-----------|---------------|-------------------------------------------------|
| `id`              | `integer` | Обязательный  | Уникальный идентификатор пользователя           |
| `username`        | `string`  | Обязательный  | Уникальный логин пользователя                   |
| `email`           | `string`  | Обязательный  | Адрес электронной почты                         |
| `firstName`       | `string`  | Обязательный  | Имя пользователя (как в паспорте)               |
| `lastName`        | `string`  | Обязательный  | Фамилия пользователя (как в паспорте)           |
| `address`         | `object`  | Обязательный  | Адрес проживания пользователя                   |
| `address.country` | `string`  | Обязательный  | Страна проживания                               |
| `address.city`    | `string`  | Обязательный  | Город проживания                                |
| `address.street`  | `string`  | Обязательный  | Улица (как в кадастре)                          |
| `address.house`   | `string`  | Обязательный  | Номер дома с указанием корпуса                  |
| `age`             | `integer` | Обязательный  | Возраст пользователя в полных годах (0-120)     |
| `isEmployee`      | `boolean` | Обязательный  | Является ли пользователь сотрудником (да/нет)   |
| `accountStatus`   | `string`  | Обязательный  | Статус учетной записи (`active`, `inactive`, `suspended`) |

### Пример

```text
{
  "id": 123,
  "username": "g_chabukiani1",
  "email": "g-chabukiani@example.com",
  "firstName": "Гиа",
  "lastName": "Чабукиани",
  "address": {
    "country": "Грузия",
    "city": "Тбилиси",
    "street": "Цотне Дадиани",
    "house": "34"
  },
  "age": 32,
  "isEmployee": true,
  "accountStatus": "active"
}
```

### Конечные точки

Используйте следующие конечные точки для взаимодействия с сущностями "Users".

| Метод  | Название конечной точки                | Описание                                                                                                                                                         |
|--------|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| GET    | Получить всех пользователей            | Этот метод позволяет получить постраничный список всех зарегистрированных пользователей системы. Результаты могут быть отфильтрованы и ограничены по количеству. |
| POST   | Создать нового пользователя            | Создает нового пользователя.                                                                                                                                     |
| GET    | Получить пользователя по ID            | Получает информацию о пользователе по ID.                                                                                                                        |
| PUT    | Перезаписать данные пользователя по ID | Перезаписывает все данные для пользователя по ID.                                                                                                                |
| PATCH  | Обновить параметры пользователя по ID  | Обновляет отдельные параметры пользователя по ID.                                                                                                                |
| DELETE | Удалить пользователя по ID             | Удаляет пользователя по ID.                                                                                                                                      |

-----

## Получить всех пользователей

Получает постраничный список всех зарегистрированных пользователей в системе.

### Конечная точка

```text
GET /users
```

### Описание

Этот метод позволяет получить постраничный список всех зарегистрированных пользователей системы. Результаты могут быть отфильтрованы и ограничены по количеству.

### Схема запроса

#### Параметры запроса

| Параметр запроса | Тип       | Обязательный?  | Описание                                                                                                                                       |
|------------------|-----------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| `limit`          | `integer` | Необязательный | Максимальное количество пользователей, которое должно быть возвращено на одной странице ответа. Используется для пагинации. По умолчанию — 10. |

### Пример запроса

```text
curl -X GET "https://api.documentat.io/api/prod/users?limit=5" \
     -H "Token: ВАШ_API_КЛЮЧ"
```

### Схема ответа

| Код состояния | Схема                        | Описание                                              |
|---------------|------------------------------|-------------------------------------------------------|
| `200`         | `User[]`                     | Список пользователей успешно получен.                 |
| `401`         | `Неавторизовано`             | Ошибка аутентификации.                                |
| `500`         | `Ошибка сервера`             | Произошла непредвиденная ошибка на сервере.           |

### Пример ответа

```text
[
  {
    "id": 123,
    "username": "g_chabukiani1",
    "email": "g-chabukiani@example.com",
    "firstName": "Гиа",
    "lastName": "Чабукиани",
    "address": {
      "country": "Грузия",
      "city": "Тбилиси",
      "street": "Цотне Дадиани",
      "house": "34"
    },
    "age": 32,
    "isEmployee": true,
    "accountStatus": "active"
  },
  {
    "id": 124,
    "username": "test_user_2",
    "email": "test2@example.com",
    "firstName": "Имя",
    "lastName": "Фамилия",
    "address": {
      "country": "Грузия",
      "city": "Батуми",
      "street": "Улица Тестовая",
      "house": "10"
    },
    "age": 28,
    "isEmployee": false,
    "accountStatus": "inactive"
  }
]
```

-----

## Создать нового пользователя

Создает нового пользователя.

### Конечная точка

```text
POST /users
```

### Описание

Эта конечная точка позволяет создать нового пользователя в системе.

### Схема запроса

#### Тело запроса

| Поле              | Тип       | Обязательный? | Описание                                                              |
|-------------------|-----------|---------------|-----------------------------------------------------------------------|
| `username`        | `string`  | Обязательный  | Уникальный логин пользователя (буквы, цифры и подчеркивание)          |
| `email`           | `string`  | Обязательный  | Адрес электронной почты                                               |
| `firstName`       | `string`  | Обязательный  | Имя пользователя (как в паспорте)                                     |
| `lastName`        | `string`  | Обязательный  | Фамилия пользователя (как в паспорте)                                 |
| `address`         | `object`  | Обязательный  | Адрес проживания пользователя                                         |
| `address.country` | `string`  | Обязательный  | Страна проживания                                                     |
| `address.city`    | `string`  | Обязательный  | Город проживания                                                      |
| `address.street`  | `string`  | Обязательный  | Улица (как в кадастре)                                                |
| `address.house`   | `string`  | Обязательный  | Номер дома с указанием корпуса                                        |
| `age`             | `integer` | Обязательный  | Возраст пользователя в полных годах (0-120)                           |
| `isEmployee`      | `boolean` | Обязательный  | Является ли пользователь сотрудником (да/нет)                         |
| `accountStatus`   | `string`  | Обязательный  | Статус учетной записи (`active`, `inactive`, `suspended`)             |

### Пример запроса

```text
curl -X POST "https://api.documentat.io/api/prod/users" \
     -H "Content-Type: application/json" \
     -H "Token: ВАШ_API_КЛЮЧ" \
     -d '{
           "username": "new_user_1",
           "email": "new.user@example.com",
           "firstName": "Новый",
           "lastName": "Пользователь",
           "address": {
             "country": "Грузия",
             "city": "Батуми",
             "street": "Улица А",
             "house": "5Б"
           },
           "age": 30,
           "isEmployee": false,
           "accountStatus": "active"
         }'
```

### Схема ответа

| Код состояния | Схема                     | Описание                                                                   |
|---------------|---------------------------|----------------------------------------------------------------------------|
| `201`         | `User`                    | Пользователь успешно создан.                                               |
| `401`         | `Неавторизовано`          | Ошибка аутентификации.                                                     |
| `409`         | `Конфликт`                | Конфликт, например, имя пользователя или электронная почта уже существует. |
| `422`         | `Необрабатываемый объект` | Ошибка валидации данных запроса.                                           |
| `500`         | `Ошибка сервера`          | Произошла непредвиденная ошибка на сервере.                                |

### Пример ответа

```text
{
  "id": 123,
  "username": "g_chabukiani1",
  "email": "g-chabukiani@example.com",
  "firstName": "Гиа",
  "lastName": "Чабукиани",
  "address": {
    "country": "Грузия",
    "city": "Тбилиси",
    "street": "Цотне Дадиани",
    "house": "34"
  },
  "age": 32,
  "isEmployee": true,
  "accountStatus": "active"
}
```

-----
## `Users/{id}`

Ресурс `"Users/{id}"` используется для получения, изменения или удаления данных отдельного пользователя по предоставлению его идентификационного номера.

## Получить пользователя по ID

Получает информацию о пользователе по ID.

### Конечная точка

```text
GET /users/{id}
```

### Описание

Эта конечная точка позволяет получить подробную информацию для конкретного пользователя, используя его уникальный идентификатор.

### Схема запроса

#### Параметры пути

| Параметр пути | Тип       | Обязательный? | Описание                                        |
|---------------|-----------|---------------|-------------------------------------------------|
| `id`          | `integer` | Обязательный  | Уникальный идентификатор пользователя           |

### Пример запроса

```text
curl -X GET "https://api.documentat.io/api/prod/users/123" \
     -H "Token: ВАШ_API_КЛЮЧ"
```

### Схема ответа

| Код состояния | Схема                    | Описание                                    |
|---------------|--------------------------|---------------------------------------------|
| `200`         | `User`                   | Данные пользователя успешно получены.       |
| `401`         | `Неавторизовано`         | Ошибка аутентификации.                      |
| `404`         | `Пользователь не найден` | Указанный пользователь не найден.           |
| `500`         | `Ошибка сервера`         | Произошла непредвиденная ошибка на сервере. |

### Пример ответа

```text
{
  "id": 123,
  "username": "g_chabukiani1",
  "email": "g-chabukiani@example.com",
  "firstName": "Гиа",
  "lastName": "Чабукиани",
  "address": {
    "country": "Грузия",
    "city": "Тбилиси",
    "street": "Цотне Дадиани",
    "house": "34"
  },
  "age": 32,
  "isEmployee": true,
  "accountStatus": "active"
}
```

-----

## Перезаписать данные пользователя по ID

Перезаписывает все данные для пользователя по ID.

### Конечная точка

```text
PUT /users/{id}
```

### Описание

Этот метод позволяет полностью заменить данные пользователя, используя его уникальный идентификатор. Эта операция **доступна только на тестовом сервере**.

### Схема запроса

#### Параметры пути

| Параметр пути | Тип       | Обязательный? | Описание                                        |
|---------------|-----------|---------------|-------------------------------------------------|
| `id`          | `integer` | Обязательный  | Уникальный идентификатор пользователя           |

#### Тело запроса

| Поле              | Тип       | Обязательный? | Описание                                                              |
|-------------------|-----------|---------------|-----------------------------------------------------------------------|
| `username`        | `string`  | Обязательный  | Уникальный логин пользователя (буквы, цифры и подчеркивание)          |
| `email`           | `string`  | Обязательный  | Адрес электронной почты                                               |
| `firstName`       | `string`  | Обязательный  | Имя пользователя (как в паспорте)                                     |
| `lastName`        | `string`  | Обязательный  | Фамилия пользователя (как в паспорте)                                 |
| `address`         | `object`  | Обязательный  | Адрес проживания пользователя                                         |
| `address.country` | `string`  | Обязательный  | Страна проживания                                                     |
| `address.city`    | `string`  | Обязательный  | Город проживания                                                      |
| `address.street`  | `string`  | Обязательный  | Улица (как в кадастре)                                                |
| `address.house`   | `string`  | Обязательный  | Номер дома с указанием корпуса                                        |
| `age`             | `integer` | Обязательный  | Возраст пользователя в полных годах (0-120)                           |
| `isEmployee`      | `boolean` | Обязательный  | Является ли пользователь сотрудником (да/нет)                         |
| `accountStatus`   | `string`  | Обязательный  | Статус учетной записи (`active`, `inactive`, `suspended`)             |

### Пример запроса

```text
curl -X PUT "https://api.documentat.io/api/dev/users/123" \
     -H "Content-Type: application/json" \
     -H "Token: ВАШ_API_КЛЮЧ" \
     -d '{
           "username": "updated_user",
           "email": "updated.user@example.com",
           "firstName": "Обновленное",
           "lastName": "Имя",
           "address": {
             "country": "Грузия",
             "city": "Тбилиси",
             "street": "Новая Улица",
             "house": "1A"
           },
           "age": 35,
           "isEmployee": true,
           "accountStatus": "inactive"
         }'
```

### Схема ответа

| Код состояния | Схема                     | Описание                                    |
|---------------|---------------------------|---------------------------------------------|
| `200`         | `User`                    | Данные пользователя успешно обновлены.      |
| `401`         | `Неавторизовано`          | Ошибка аутентификации.                      |
| `404`         | `Пользователь не найден`  | Указанный пользователь не найден.           |
| `405`         | `Метод не разрешен`       | Метод не разрешен.                          |
| `422`         | `Необрабатываемый объект` | Ошибка валидации данных запроса.            |
| `500`         | `Ошибка сервера`          | Произошла непредвиденная ошибка на сервере. |

### Пример ответа

```text
{
  "id": 123,
  "username": "updated_user",
  "email": "updated.user@example.com",
  "firstName": "Обновленное",
  "lastName": "Имя",
  "address": {
    "country": "Грузия",
    "city": "Тбилиси",
    "street": "Новая Улица",
    "house": "1A"
  },
  "age": 35,
  "isEmployee": true,
  "accountStatus": "inactive"
}
```

-----

## Обновить параметры пользователя по ID

Обновляет отдельные параметры пользователя по ID.

### Конечная точка

```text
PATCH /users/{id}
```

### Описание

Этот метод позволяет частично обновить данные пользователя, используя его уникальный идентификатор. Будут обновлены только поля, указанные в теле запроса. Эта операция **доступна только на тестовом сервере**.

### Схема запроса

#### Параметры пути

| Параметр пути | Тип       | Обязательный? | Описание                                        |
|---------------|-----------|---------------|-------------------------------------------------|
| `id`          | `integer` | Обязательный  | Уникальный идентификатор пользователя           |

#### Тело запроса

| Поле              | Тип       | Обязательный? | Описание                                                              |
|-------------------|-----------|---------------|-----------------------------------------------------------------------|
| `username`        | `string`  | Необязательный | Уникальный логин пользователя (буквы, цифры и подчеркивание)          |
| `email`           | `string`  | Необязательный | Адрес электронной почты                                               |
| `firstName`       | `string`  | Необязательный | Имя пользователя (как в паспорте)                                     |
| `lastName`        | `string`  | Необязательный | Фамилия пользователя (как в паспорте)                                 |
| `address`         | `object`  | Необязательный | Адрес проживания пользователя                                         |
| `address.country` | `string`  | Необязательный | Страна проживания                                                     |
| `address.city`    | `string`  | Необязательный | Город проживания                                                      |
| `address.street`  | `string`  | Необязательный | Улица (как в кадастре)                                                |
| `address.house`   | `string`  | Необязательный | Номер дома с указанием корпуса                                        |
| `age`             | `integer` | Необязательный | Возраст пользователя в полных годах (0-120)                           |
| `isEmployee`      | `boolean` | Необязательный | Является ли пользователь сотрудником (да/нет)                         |
| `accountStatus`   | `string`  | Необязательный | Статус учетной записи (`active`, `inactive`, `suspended`)             |

### Пример запроса

```text
curl -X PATCH "https://api.documentat.io/api/dev/users/123" \
     -H "Content-Type: application/json" \
     -H "Token: ВАШ_API_КЛЮЧ" \
     -d '{
           "email": "new.email@example.com",
           "accountStatus": "suspended"
         }'
```

### Схема ответа

| Код состояния | Схема                     | Описание                                    |
|---------------|---------------------------|---------------------------------------------|
| `200`         | `User`                    | Данные пользователя успешно обновлены.      |
| `401`         | `Неавторизовано`          | Ошибка аутентификации.                      |
| `404`         | `Пользователь не найден`  | Указанный пользователь не найден.           |
| `405`         | `Метод не разрешен`       | Метод не разрешен.                          |
| `422`         | `Необрабатываемый объект` | Ошибка валидации данных запроса.            |
| `500`         | `Ошибка сервера`          | Произошла непредвиденная ошибка на сервере. |

### Пример ответа

```text
{
  "id": 123,
  "username": "g_chabukiani1",
  "email": "new.email@example.com",
  "firstName": "Гиа",
  "lastName": "Чабукиани",
  "address": {
    "country": "Грузия",
    "city": "Тбилиси",
    "street": "Цотне Дадиани",
    "house": "34"
  },
  "age": 32,
  "isEmployee": true,
  "accountStatus": "suspended"
}
```

-----

## Удалить пользователя по ID

Удаляет пользователя по ID.

### Конечная точка

```text
DELETE /users/{id}
```

### Описание

Эта конечная точка позволяет удалить пользователя из системы, используя его уникальный идентификатор.

### Схема запроса

#### Параметры пути

| Параметр пути | Тип       | Обязательный? | Описание                                        |
|---------------|-----------|---------------|-------------------------------------------------|
| `id`          | `integer` | Обязательный  | Уникальный идентификатор пользователя           |

### Пример запроса

```text
curl -X DELETE "https://api.documentat.io/api/prod/users/123" \
     -H "Token: ВАШ_API_КЛЮЧ"
```

### Схема ответа

| Код состояния | Схема                    | Описание                                    |
|---------------|--------------------------|---------------------------------------------|
| `204`         | Нет содержимого          | Пользователь успешно удален.                |
| `401`         | `Неавторизовано`         | Ошибка аутентификации.                      |
| `404`         | `Пользователь не найден` | Указанный пользователь не найден.           |
| `500`         | `Ошибка сервера`         | Произошла непредвиденная ошибка на сервере. |

### Пример ответа

```text
(Нет содержимого для ответа 204)
```